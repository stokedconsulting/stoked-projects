# ==============================================================================
# MCP Server Configuration
# ==============================================================================
# This file documents all available configuration options for the MCP server.
# Copy this file to .env and fill in your actual values.

# ==============================================================================
# Environment Selection
# ==============================================================================

# Environment Profile
# Valid values: development, staging, production
# Default: development
NODE_ENV=development

# ==============================================================================
# API Configuration (REQUIRED)
# ==============================================================================

# State Tracking API Key (REQUIRED)
# This is the authentication key for the Claude Projects state tracking API.
# Obtain this from your Claude Projects dashboard or administrator.
# The server will fail to start without this value.
STATE_TRACKING_API_KEY=your-api-key-here

# WebSocket API Key (REQUIRED)
# Used to authenticate WebSocket connections for real-time notifications.
# Generate a secure random string (recommended: 32+ characters).
WS_API_KEY=your-websocket-api-key-here

# GitHub Personal Access Token (REQUIRED for GitHub integration)
# Required scopes: repo, read:org, read:project, project
# Create at: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_your_github_token_here

# ==============================================================================
# API Configuration (Optional)
# ==============================================================================

# State Tracking API Base URL
# The base URL for the state tracking API endpoints.
# Development: http://localhost:3000
# Staging: https://staging-api.claude-projects.example.com
# Production: https://api.claude-projects.example.com
# Default: https://claude-projects.truapi.com
STATE_TRACKING_API_URL=https://claude-projects.truapi.com

# ------------------------------------------------------------------------------
# Runtime Configuration (Optional)
# ------------------------------------------------------------------------------

# Log Level
# Controls the verbosity of server logging.
# Valid values: debug, info, warn, error
# - debug: All messages including detailed debugging information
# - info: General informational messages and above
# - warn: Warning messages and errors only
# - error: Error messages only
# Default: info
LOG_LEVEL=info

# Request Timeout (milliseconds)
# Maximum time to wait for API requests before timing out.
# Increase this value if you experience timeout errors on slow connections.
# Default: 10000 (10 seconds)
REQUEST_TIMEOUT_MS=10000

# Retry Attempts
# Number of times to retry failed API requests before giving up.
# Set to 0 to disable retries.
# Development: 3
# Production: 5
# Default: 3
RETRY_ATTEMPTS=3

# Graceful Shutdown Timeout (milliseconds)
# Maximum time to wait for active connections to close before force shutdown.
# Development: 30000 (30 seconds)
# Production: 90000 (90 seconds)
# Default: 30000
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# ==============================================================================
# WebSocket Configuration (Optional)
# ==============================================================================

# WebSocket Server Port
# Port for real-time notification WebSocket connections.
# Default: 8080
WS_PORT=8080

# WebSocket Host
# Host to bind the WebSocket server to.
# Development: localhost
# Production: 0.0.0.0
# Default: localhost
WS_HOST=localhost

# ==============================================================================
# Docker/Container Configuration (Optional)
# ==============================================================================

# Docker Image Version
# Tag for Docker image deployment
DOCKER_IMAGE_VERSION=latest

# Container Port
# Port to expose in Docker container
CONTAINER_PORT=3000

# Health Check Interval (milliseconds)
# How often to check server health
# Default: 30000
HEALTH_CHECK_INTERVAL=30000

# ------------------------------------------------------------------------------
# Usage Examples
# ------------------------------------------------------------------------------
#
# Development with debug logging:
#   LOG_LEVEL=debug
#
# Production with minimal logging:
#   LOG_LEVEL=warn
#
# High-latency environment:
#   REQUEST_TIMEOUT_MS=30000
#   RETRY_ATTEMPTS=5
#
# Local development against staging API:
#   STATE_TRACKING_API_URL=https://staging.claude-projects.truapi.com
#   LOG_LEVEL=debug
#
# Production deployment:
#   NODE_ENV=production
#   LOG_LEVEL=warn
#   STATE_TRACKING_API_URL=https://api.claude-projects.example.com
#   REQUEST_TIMEOUT_MS=20000
#   RETRY_ATTEMPTS=5
#
# Staging environment:
#   NODE_ENV=staging
#   LOG_LEVEL=info
#   STATE_TRACKING_API_URL=https://staging-api.claude-projects.example.com
#
# Docker deployment:
#   NODE_ENV=production
#   WS_HOST=0.0.0.0
#   WS_PORT=8080
